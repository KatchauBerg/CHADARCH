# keybindings.conf — HyDE-style keybindings
# Managed by dotfiles — edit templates/hypr/keybindings.conf, not this file.
#
# Uses bindd (bind with description) + $d=[Group|Subgroup] grouping.
# All scripts dispatched through:  $df = dotfiles-shell
#
# $d=[Group] is parsed by keybind hint tools for GUI display.

$df = dotfiles-shell

# ===========================================================================
# WINDOW MANAGEMENT
# ===========================================================================

$wm = Window Management
$d = [$wm]

bindd = SUPER,       Q,      $d close focused window,      exec, $df close
bindd = Alt,         F4,     $d close focused window,      exec, $df close
bindd = SUPER SHIFT, F,      $d pin window on all monitors, pin
bindd = SUPER,       W,      $d toggle floating,           togglefloating
bindd = SUPER,       G,      $d toggle window group,       togglegroup
bindd = Shift,       F11,    $d toggle fullscreen,         fullscreen
bindd = SUPER,       L,      $d lock screen,               exec, hyprlock
bindd = CTRL ALT,    Delete, $d power/logout menu,         exec, $df power-menu

$d = [$wm|Group Navigation]
bindd = SUPER CTRL, H, $d change active group backwards, changegroupactive, b
bindd = SUPER CTRL, L, $d change active group forwards,  changegroupactive, f

$d = [$wm|Focus]
bindd = SUPER, Left,  $d focus left,  movefocus, l
bindd = SUPER, Right, $d focus right, movefocus, r
bindd = SUPER, Up,    $d focus up,    movefocus, u
bindd = SUPER, Down,  $d focus down,  movefocus, d
bindd = Alt,   Tab,   $d cycle focus, cyclenext

$d = [$wm|Resize]
bindde = SUPER SHIFT, Right, $d resize right, resizeactive,  30 0
bindde = SUPER SHIFT, Left,  $d resize left,  resizeactive, -30 0
bindde = SUPER SHIFT, Up,    $d resize up,    resizeactive,   0 -30
bindde = SUPER SHIFT, Down,  $d resize down,  resizeactive,   0  30

$d = [$wm|Move Window]
$moveactive = grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive
bindde = SUPER SHIFT CTRL, Left,  $d move window left,  exec, $moveactive -30 0  || hyprctl dispatch movewindow l
bindde = SUPER SHIFT CTRL, Right, $d move window right, exec, $moveactive  30 0  || hyprctl dispatch movewindow r
bindde = SUPER SHIFT CTRL, Up,    $d move window up,    exec, $moveactive   0 -30 || hyprctl dispatch movewindow u
bindde = SUPER SHIFT CTRL, Down,  $d move window down,  exec, $moveactive   0  30 || hyprctl dispatch movewindow d

$d = [$wm|Mouse]
binddm = SUPER, mouse:272, $d hold to move window,   movewindow
binddm = SUPER, mouse:273, $d hold to resize window, resizewindow

$d = [$wm]
bindd = SUPER, J, $d toggle split, togglesplit

# ===========================================================================
# APPLICATIONS
# ===========================================================================

$l = Launcher
$d = [$l|Apps]
bindd = SUPER,        T,      $d terminal,       exec, $terminal
bindd = SUPER,        E,      $d file explorer,  exec, $fileManager
bindd = SUPER,        B,      $d browser,        exec, $browser
bindd = SUPER,        C,      $d editor,         exec, $editor
bindd = CTRL SHIFT,   Escape, $d system monitor, exec, $terminal -e btop

$d = [$l|Rofi]
bindd = SUPER,       A,      $d app launcher,     exec, pkill -x rofi || rofi -show drun -theme ~/.config/rofi/launcher.rasi
bindd = SUPER SHIFT, A,      $d window switcher,  exec, pkill -x rofi || rofi -show window -theme ~/.config/rofi/launcher.rasi
bindd = SUPER,       V,      $d clipboard,        exec, pkill -x rofi || cliphist list | rofi -dmenu -theme ~/.config/rofi/clipboard.rasi | cliphist decode | wl-copy
bindd = SUPER,       Tab,    $d window list,      exec, pkill -x rofi || rofi -show window -theme ~/.config/rofi/launcher.rasi
bindd = SUPER SHIFT, R,      $d rofi style picker, exec, pkill -x rofi || $df rofi-style --select

# ===========================================================================
# HARDWARE CONTROLS
# ===========================================================================

$hc = Hardware Controls
$d = [$hc|Audio]
binddl  = , F10,               $d toggle mute,      exec, $df volumecontrol -o m
binddl  = , XF86AudioMute,     $d toggle mute,      exec, $df volumecontrol -o m
binddel = , F11,               $d decrease volume,  exec, $df volumecontrol -o d
binddel = , F12,               $d increase volume,  exec, $df volumecontrol -o i
binddl  = , XF86AudioMicMute,  $d toggle mic mute,  exec, $df volumecontrol -i m
binddel = , XF86AudioLowerVolume, $d decrease volume, exec, $df volumecontrol -o d
binddel = , XF86AudioRaiseVolume, $d increase volume, exec, $df volumecontrol -o i

$d = [$hc|Media]
binddl = , XF86AudioPlay,  $d play/pause, exec, playerctl play-pause
binddl = , XF86AudioPause, $d pause,      exec, playerctl play-pause
binddl = , XF86AudioNext,  $d next track, exec, playerctl next
binddl = , XF86AudioPrev,  $d prev track, exec, playerctl previous

$d = [$hc|Brightness]
binddel = , XF86MonBrightnessUp,   $d increase brightness, exec, $df brightnesscontrol -o i
binddel = , XF86MonBrightnessDown, $d decrease brightness, exec, $df brightnesscontrol -o d

# ===========================================================================
# THEMING & WALLPAPER
# ===========================================================================

$rice = Theming
$d = [$rice]
bindd = SUPER,       D,      $d theme picker,           exec, pkill -x rofi || $df themeselect
bindd = SUPER SHIFT, T,      $d theme picker,           exec, pkill -x rofi || $df themeselect
bindd = SUPER SHIFT, W,      $d wallpaper picker,       exec, pkill -x rofi || $df wallpaper --select
bindd = SUPER ALT,   Right,  $d next wallpaper,         exec, $df wallpaper --next
bindd = SUPER ALT,   Left,   $d previous wallpaper,     exec, $df wallpaper --prev
bindd = SUPER,       R,      $d random wallpaper,       exec, $df wallpaper --random

$d = [$rice|Animations & Effects]
bindd = SUPER SHIFT, Y, $d animation preset picker,    exec, pkill -x rofi || $df animations --select
bindd = SUPER SHIFT, F, $d shader picker,              exec, pkill -x rofi || $df shaders --select
bindd = SUPER,       F1, $d disable shader,            exec, $df shaders --off

$d = [$rice|Workflow]
bindd = SUPER SHIFT, X,    $d workflow picker,         exec, pkill -x rofi || $df workflow --select
bindd = SUPER ALT,   G,    $d toggle game mode,        exec, $df gamemode
bindd = SUPER ALT,   Up,   $d next waybar layout,      exec, $df waybar-layout next
bindd = SUPER ALT,   Down, $d previous waybar layout,  exec, $df waybar-layout prev

# ===========================================================================
# SCREENSHOTS
# ===========================================================================

$ut = Utilities
$d = [$ut|Screenshots]
bindd = SUPER,       P,     $d area screenshot,          exec, $df screenshot --area
bindd = SUPER CTRL,  P,     $d freeze + area screenshot, exec, $df screenshot --freeze
binddl = SUPER ALT,  P,     $d monitor screenshot,       exec, $df screenshot --monitor
binddl = ,           Print, $d full screenshot,          exec, $df screenshot
bindd = SUPER SHIFT, P,     $d color picker,             exec, hyprpicker -an

# ===========================================================================
# WORKSPACES
# ===========================================================================

$ws = Workspaces
$d = [$ws|Navigate]
bindd = SUPER, 1, $d workspace 1,  workspace, 1
bindd = SUPER, 2, $d workspace 2,  workspace, 2
bindd = SUPER, 3, $d workspace 3,  workspace, 3
bindd = SUPER, 4, $d workspace 4,  workspace, 4
bindd = SUPER, 5, $d workspace 5,  workspace, 5
bindd = SUPER, 6, $d workspace 6,  workspace, 6
bindd = SUPER, 7, $d workspace 7,  workspace, 7
bindd = SUPER, 8, $d workspace 8,  workspace, 8
bindd = SUPER, 9, $d workspace 9,  workspace, 9
bindd = SUPER, 0, $d workspace 10, workspace, 10

$d = [$ws|Navigate|Relative]
bindd = SUPER CTRL, Right, $d next workspace,          workspace, r+1
bindd = SUPER CTRL, Left,  $d previous workspace,      workspace, r-1
bindd = SUPER CTRL, Down,  $d nearest empty workspace, workspace, empty

$d = [$ws|Navigate]
bindd = SUPER, mouse_down, $d scroll to next workspace, workspace, e+1
bindd = SUPER, mouse_up,   $d scroll to prev workspace, workspace, e-1

$d = [$ws|Move Window]
bindd = SUPER SHIFT, 1, $d move to workspace 1,  movetoworkspace, 1
bindd = SUPER SHIFT, 2, $d move to workspace 2,  movetoworkspace, 2
bindd = SUPER SHIFT, 3, $d move to workspace 3,  movetoworkspace, 3
bindd = SUPER SHIFT, 4, $d move to workspace 4,  movetoworkspace, 4
bindd = SUPER SHIFT, 5, $d move to workspace 5,  movetoworkspace, 5
bindd = SUPER SHIFT, 6, $d move to workspace 6,  movetoworkspace, 6
bindd = SUPER SHIFT, 7, $d move to workspace 7,  movetoworkspace, 7
bindd = SUPER SHIFT, 8, $d move to workspace 8,  movetoworkspace, 8
bindd = SUPER SHIFT, 9, $d move to workspace 9,  movetoworkspace, 9
bindd = SUPER SHIFT, 0, $d move to workspace 10, movetoworkspace, 10

$d = [$ws|Move Window|Relative]
bindd = SUPER CTRL ALT, Right, $d move to next workspace,     movetoworkspace, r+1
bindd = SUPER CTRL ALT, Left,  $d move to previous workspace, movetoworkspace, r-1

$d = [$ws|Move Window|Silent]
bindd = SUPER ALT, 1, $d move silently to workspace 1,  movetoworkspacesilent, 1
bindd = SUPER ALT, 2, $d move silently to workspace 2,  movetoworkspacesilent, 2
bindd = SUPER ALT, 3, $d move silently to workspace 3,  movetoworkspacesilent, 3
bindd = SUPER ALT, 4, $d move silently to workspace 4,  movetoworkspacesilent, 4
bindd = SUPER ALT, 5, $d move silently to workspace 5,  movetoworkspacesilent, 5
bindd = SUPER ALT, 6, $d move silently to workspace 6,  movetoworkspacesilent, 6
bindd = SUPER ALT, 7, $d move silently to workspace 7,  movetoworkspacesilent, 7
bindd = SUPER ALT, 8, $d move silently to workspace 8,  movetoworkspacesilent, 8
bindd = SUPER ALT, 9, $d move silently to workspace 9,  movetoworkspacesilent, 9
bindd = SUPER ALT, 0, $d move silently to workspace 10, movetoworkspacesilent, 10

$d = [$ws|Scratchpad]
bindd = SUPER SHIFT, S, $d move to scratchpad,        movetoworkspace,       special
bindd = SUPER,       S, $d toggle scratchpad,          togglespecialworkspace

# ===========================================================================
# UTILITIES
# ===========================================================================

$d = [$ut]
bindd = SUPER,      K, $d toggle keyboard layout, exec, hyprctl switchxkblayout all next
bindd = CTRL ALT,   Right, $d reload Hyprland,    exec, $df reload

$d = #! unset group
